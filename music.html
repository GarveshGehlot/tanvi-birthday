<!doctype html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.js"></script>
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" -->
  <!-- crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Open+Sans&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    @font-face {
      font-family: "SpotifyMix";
      src: url("./fonts/SpotifyMix-Regular.ttf") format("truetype");
      font-weight: 400;
      font-style: normal;
    }

    @font-face {
      font-family: "SpotifyMix";
      src: url("./fonts/SpotifyMix-Bold.ttf") format("truetype");
      font-weight: 700;
      font-style: normal;
    }

    @font-face {
      font-family: "SpotifyMix";
      src: url("./fonts/SpotifyMix-Italic.ttf") format("truetype");
      font-weight: 400;
      font-style: italic;
    }

    @font-face {
      font-family: "SpotifyMix";
      src: url("./fonts/SpotifyMix-Light.ttf") format("truetype");
      font-weight: 300;
      font-style: normal;
    }

    @font-face {
      font-family: "SpotifyMix";
      src: url("./fonts/SpotifyMix-Thin.ttf") format("truetype");
      font-weight: 100;
      font-style: normal;
    }

    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
      outline: none;
      transition: all 0.2s ease;
      /* font-family: "SpotifyMix", sans-serif; */
    }

    *::-webkit-scrollbar {
      display: none;
    }

    body {
      overflow-x: hidden;
      font-family: sans-serif;
    }

    a {
      text-decoration: none;
      color: #fff;
    }

    img {
      height: auto;
      width: 100%;
      object-fit: cover;
    }

    .container {
      background: url("./img/download11.jfif") no-repeat center center fixed;
      background-size: cover;
      position: relative;
      height: 100vh;
      width: 100%;
    }

    /* 750 x 384 */

    .spotify-player {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      top: 45%;
      left: 50%;
      transform: translate(-50%, -50%);
      height: 700px;
      width: 354px;
      padding: 15px;
      border-radius: 3px;
      background-color: #111;
      box-shadow: 0 0 15px #111;
      color: #fff;
      overflow: hidden;
    }

    .music-player {
      padding: 20px;
      position: absolute;
      bottom: 0;
      left: 0px;
      height: 100%;
      width: 100%;
    }

    .music-playlist {
      position: absolute;
      display: flex;
      width: 100%;
      height: 100%;
      top: -100%;
      left: 0%;
      height: 100%;
      width: 100%;
      flex-direction: column;
      justify-content: space-between;
      background: #1c0d10;
      background: linear-gradient(#664246 0%, #181615 69px);
      z-index: 3;
      color: #fff;
      transition: all 0.2s ease;
      overflow: hidden;
    }

    .music-player.open {
      height: 70px;
      display: flex;
      width: 345px;
      left: 4px;
      flex-direction: row;
      bottom: 0;
      border-radius: 10px 10px 0;
      overflow: hidden;
      box-shadow: 0 0 54px #111;
      z-index: 3;
    }

    .music-player.open .loop-btn,
    .music-player.open .shuffle-btn,
    .music-player.open .player-header,
    .music-player.open .music-time,
    .music-player.open i.fa,
    .music-player.open .music-current-length-circle {
      display: none;
    }

    .music-player.open .bg {
      filter: blur(8px);
    }

    .music-player.open i.play-btn {
      display: block;
      position: absolute;
      right: 20px;
      bottom: 15px;
      font-size: 35px;
    }

    .music-player.open .heart-btn {
      display: block;
      position: absolute;
      right: 160px;
      bottom: 18px;
      font-size: 35px;
      transform: scale(1.5);
    }

    .music-player.open .heart-btn i {
      display: block;
    }

    .music-player.open .player-center {
      height: 55px;
      width: 55px;
      border-radius: 5px;
      position: absolute;
      transform: translate(-65px, 45px);
      bottom: 50%;
      left: 70px;
      overflow: hidden;
    }

    .music-player.open .player-center img {
      height: 55px;
      width: 55px;
    }

    .player-center img {
      height: 300px;
      width: 300px;
    }

    .music-player.open .music-info {
      position: absolute;
      bottom: -21px;
      transform: translateY(-50%);
      left: 90px;
    }

    .music-player.open .music-name {
      font-size: 13px;
    }

    .music-player.open .artist-name {
      font-size: 10px;
      margin-top: 5px;
    }

    .music-player.open .timebar {
      position: relative;
      width: 95%;
      border-radius: 50px;
      padding: 1px;
      background-color: rgba(204, 204, 204, 0.205);
      cursor: pointer;
    }

    .music-player.open .music-timebar {
      position: absolute;
      bottom: -10px;
      width: 100%;
      left: 5px;
    }

    .music-player.open .music-timebar .music-current-length {
      border-radius: 1px;
      padding: 1px;
    }

    .music-playlist.open {
      top: 0;
      z-index: 2;
    }

    .playlist-header {
      height: 50px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .playlist-header i.fa {
      font-size: 18px;
      cursor: pointer;
    }

    .playlist {
      margin-top: 20px;
      height: 100%;
      padding: 0 20px;
      overflow-y: scroll;
      box-shadow: inset 0 0 10px #181615;
      margin-bottom: 70px;
    }

    .playlist .playlist-item {
      display: grid;
      width: 100%;
      text-align: left;
      align-items: center;
      height: 60px;
      cursor: pointer;
      grid-template-columns: 1fr 4fr 1fr 1fr;
    }

    .playlist .playlist-item-poster {
      height: 50px;
      width: 50px;
      border-radius: 5px;
      overflow: hidden;
    }

    .playlist .playlist-item-info {
      margin-left: 20px;
    }

    .playlist .playlist-item-name {
      font-size: 13px;
    }

    .playlist .playlist-artist-name {
      font-size: 10px;
    }

    .playlist-item-menu-btn,
    .playlist-heart-btn {
      display: grid;
      place-items: center;
    }

    .playlist i.fa {
      font-size: 18px;
      cursor: pointer;
    }

    .playlist-close-btn i.fa {
      font-size: 30px;
    }

    .playlist .playlist-heart-icon {
      color: #1db954;
    }

    .playlist .playlist-item-poster img {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }

    .music-player::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: -1;
    }

    .bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      filter: blur(20px);
    }

    /* player header */
    .player-header {
      display: flex;
      width: 100%;
      height: 50px;
      justify-content: space-between;
    }

    .player-header i.fa {
      font-size: 30px;
      cursor: pointer;
    }

    .player-header p {
      text-transform: capitalize;
      text-align: center;
      font-size: 14px;
    }

    .player-header p.playing-from {
      font-family: "SpotifyMix", sans-serif;
      font-weight: 600;
      font-size: 20px;
      /* text-transform: uppercase; */
    }

    /* player center  */
    .player-center {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 20px auto;
      overflow: hidden;
      box-shadow: 0 0 10px #000;
    }

    .player-center::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-color: transparent;
      z-index: 3;
    }

    /* .poster-container {
      position: relative;
      left: 0%;
      display: flex;
      height: 100%;
      width: 100%;
      margin: auto;
      transition: all 0.2s ease;
    } */

    .poster-container {
      position: relative;
      display: flex;
      height: 100%;
      width: 600%;
      /* number of songs √ó 100% */
      transition: all 0.3s ease;
    }

    .poster {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* player footer */

    .player-footer {
      display: flex;
      flex-direction: column;
      width: 100%;
      padding: 8px;
      justify-content: space-around;
    }

    .music-info {
      display: flex;
      width: 100%;
      height: 50px;
      justify-content: space-between;
    }

    .music-info .music-name {
      /* background: yellow; */
      font-size: 18px;
      font-weight: 600;
    }

    .music-info .artist-name {
      font-size: 13px;
      color: #ccc;
      margin-top: 3px;
      font-weight: 600;
      /* padding-left: 3px; */
    }

    .music-info .heart-btn i.fa {
      color: #fff;
      font-size: 20px;
      cursor: pointer;
    }

    .music-info .heart-btn.liked i.fa {
      color: #1db954;
    }

    .music-timebar {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 100%;
      margin: 35px 0 10px 0;
    }

    .music-timebar .timebar {
      position: relative;
      width: 100%;
      border-radius: 50px;
      padding: 1px;
      background-color: rgba(204, 204, 204, 0.205);
      cursor: pointer;
    }

    .music-current-length {
      position: absolute;
      top: 50%;
      left: 0%;
      transform: translate(0%, -50%);
      border-radius: 50px;
      padding: 2px;
      background-color: #ccc;
    }

    .music-current-length-circle {
      position: absolute;
      top: 50%;
      transform: translate(0%, -50%);
      border-radius: 50px;
      padding: 4px;
      background-color: #ccc;
    }

    .music-time {
      display: flex;
      width: 100%;
      justify-content: space-between;
      margin-top: 10px;
      font-size: 12px;
    }

    /* music controls */
    .music-controls {
      display: flex;
      width: 100%;
      height: 70px;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .music-controls .main-control {
      display: flex;
      height: 100%;
      align-items: center;
      width: 60%;
      justify-content: space-around;
    }

    .music-controls i.fa {
      cursor: pointer;
      font-size: 35px;
    }

    .music-controls div.active {
      position: relative;
      color: #1db954;
    }

    .music-controls div.active::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 3px;
      background-color: #1db954;
      color: #fff;
      border-radius: 50px;
    }

    .music-controls .loop-btn {
      font-size: 30px;
    }

    .music-controls i.play-btn {
      font-size: 70px;
    }

    .music-info-window {
      position: absolute;
      top: -100%;
      left: 0;
      height: 100%;
      width: 100%;
      background: linear-gradient(rgba(62, 30, 242, 0) 0%, rgba(0, 0, 0, 1) 40%);
    }

    .music-info-window.open {
      top: 0;
    }

    /* code with love */
    .code-with-love {
      position: absolute;
      right: 30px;
      bottom: 50px;
      border-radius: 5px;
      background-color: #111;
      padding: 10px;
      color: #fff;
      z-index: 99999999;
    }

    .code-with-love i.fa-heart,
    .code-with-love span {
      color: #ff2828;
    }

    .go-back {
      margin-top: 30px;
      margin-left: 20px;
      color: white;
      font-weight: 800;
      background: #5A0E24;
      /* border: 2px solid; */
      font-size: 15px;
      padding: 8px 20px 8px 10px;
      border-radius: 20px;
      border: none;
    }

    .warning-div {
      /* font-family: "Poppins", sans-serif; */
      font-family: "SpotifyMix", sans-serif;
      ;
      /* font-weight: 800; */
      padding: 10px;
      /* font-size: 20px; */
      width: 90%;
      position: fixed;
      z-index: 1000;
      opacity: 1;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, .8);
      color: #000000;
      transition: opacity 0.5s ease;
      /* ‚è±Ô∏è duration */
    }

    .remove-warning-div {
      opacity: 0 !important;
      z-index: -10000 !important;
    }

    .warning-div h1 {
      font-family: "SpotifyMix", sans-serif;
      font-size: 25px;
      margin: 20px auto;
      font-size: 30px;
      text-align: center;
    }

    .warning-div p {
      font-size: 20px;
      text-align: center;
    }

    .checkbox-container {
      /* background: #000; */
      margin: 15px 0;
      padding-left: 15px;
    }

    input[type="checkbox"] {
      appearance: none;
      width: 25px;
      height: 25px;
      border: 2px solid #9CA3AF;
      border-radius: 6px;
      margin-right: 10px;
      position: relative;
      cursor: pointer;
      vertical-align: middle;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .checkedInput {
      border: 2px solid #BF124D !important;
    }

    .checkedLabel {
      color: #BF124D;
      /* font-size: 20px; */
      border-bottom: 2px solid #BF124D !important;
    }

    input[type="checkbox"]:checked {
      border-color: #BF124D;
      background-color: #BF124D;
    }

    input[type="checkbox"]:checked::after {
      content: "‚úì";
      position: absolute;
      color: white;
      font-size: 14px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: bold;
    }

    label {
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    input[type="checkbox"]:checked+label {
      color: #BF124D;
    }


    .pop-up-button-no {
      font-family: "Poppins", sans-serif;
      ;
      color: white;
      font-size: 20px;
      background-color: #BF124D;
      border: none;
      padding: 5px 20px;
      border-radius: 15px;
      position: absolute;
      width: 200px;
      left: 50%;
      transform: translateX(-50%);
    }

    .library {
      font-family: "SpotifyMix", sans-serif;
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="warning-div">
      <h1 class="warning-div-header"><i class="fa-solid fa-triangle-exclamation"></i>Trigger Warning</h1>
      <p>This content may casue your ear bleed but it comes from heart of the author</p>
      <br>
      <div class="checkbox-container">
        <input type="checkbox" class="" id="checkBox">
        <label id="labelforCheckbox" class="" for="basic1">I agree to terms and conditions.</label>
      </div>
      <button class="pop-up-button-no" onclick="checkStatus()">Lets Go ü•∞ü•∞</button>
      <br><br>
    </div>
    <button class="go-back" onclick="window.location.href = './mainPage.html'"><i class="fa fa-arrow-circle-left"
        aria-hidden="true"></i>
      Main Page
    </button>
    <div class="spotify-player">
      <div class="music-playlist">
        <div class="playlist-header">
          <div class="playlist-close-btn">
            <i class="fa fa-angle-left playlist-back-icon"></i>
          </div>
          <div class="playlist-center-text">
            <p>Playlist for Tanvi</p>
          </div>
          <div class="playlist-menu-btn">
            <i class="fa fa-ellipsis-v playlist-menu-icon"></i>
          </div>
        </div>
        <div class="playlist"></div>
      </div>
      <div class="music-player">
        <img class="bg" />
        <div class="player-header">
          <div class="playlist-open-btn">
            <i class="fa fa-angle-down"></i>
          </div>
          <div class="library">
            <p class="playing-from">Playlist for Tanvi</p>
            <!-- <p>Songs</p> -->
          </div>
          <div class="menu-btn">
            <i class="fa fa-ellipsis-v menu-icon"></i>
          </div>
        </div>
        <div class="player-center">
          <div class="poster-container"></div>
        </div>
        <div class="player-footer">
          <div class="music-info">
            <div class="names">
              <p class="music-name"></p>
              <p class="artist-name"></p>
            </div>
            <div class="heart-btn">
              <i class="fa fa-regular fa-heart heart-icon"></i>
            </div>
          </div>
          <div class="music-timebar">
            <div class="timebar">
              <div class="music-current-length"></div>
              <div class="music-current-length-circle"></div>
            </div>
            <div class="music-time">
              <div class="music-current-time">0:00</div>
              <div class="music-duration-time">0:00</div>
            </div>
          </div>
          <div class="music-controls">
            <audio class="audio"></audio>
            <div class="shuffle-btn">
              <i class="fa fa-random shuffle-icon" title="Shuffle"></i>
            </div>
            <div class="main-control">
              <i class="fa fa-step-backward back-btn"></i>
              <i class="fa-solid fa-circle-play play-btn"></i>
              <i class="fa fa-step-forward forward-btn"></i>
            </div>
            <div class="loop-btn">
              <i class="fa fa-repeat loop-icon" title="Repeat"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="music-info-window"></div>
    </div>
  </div>



  <script>
    const checkStatus = () => {
      const checkBox = document.querySelector("#checkBox");
      const label = document.querySelector("#labelforCheckbox");
      const warningdiv = document.querySelector(".warning-div");
      if (checkBox.checked) {
        checkBox.classList.remove("checkedInput")
        label.classList.remove("checkedLabel")
        warningdiv.classList.add("remove-warning-div");

        setTimeout(() => {
          warningdiv.style.display = "none";
        }, 500)
      }
      else {
        checkBox.classList.add("checkedInput")
        label.classList.add("checkedLabel")
      }
    }


    const musicInfo = [
      {
        musicName: "Tum Se Hi",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/tumsehi2.mp3",
        musicPoster: "./img/player-img/image-1.jpeg",
        liked: true
      },
      {
        musicName: "The song I'd dedicate to you",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/ekAjnabee.mp3",
        musicPoster: "./img/player-img/image-2.jpeg",
        liked: true
      },
      {
        musicName: "May not say this much but",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/iloveyou.mp3",
        musicPoster: "./img/player-img/image-3.jpeg",
        liked: true
      },
      {
        musicName: "Promise or threat haha",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/kaunTujhe.mp3",
        musicPoster: "./img/player-img/image-5.jpeg",
        liked: true
      },
      {
        musicName: "PS: You are dating a garba paglu",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/madhmithi.mp3",
        musicPoster: "./img/player-img/image-6.jpeg",
        liked: true
      },
      {
        musicName: "Nothing else just every word belongs to you",
        artistName: "Garvesh Gehlot",
        musicSrc: "./audio/Perfect.mp3",
        musicPoster: "./img/player-img/image-7.jpeg",
        liked: true
      },

    ];
    // playlist
    const musicPlaylist = document.querySelector(".music-playlist");
    const musicPlayer = document.querySelector(".music-player");
    const playlistOpenBtn = document.querySelector(".playlist-open-btn");
    const playlistCloseBtn = document.querySelector(".playlist-close-btn");
    const playlist = document.querySelector(".playlist");

    const openPlaylist = () => {
      musicPlayer.classList.add("open");
      musicPlaylist.classList.add("open");
    };

    const closePlaylist = () => {
      musicPlayer.classList.remove("open");
      musicPlaylist.classList.remove("open");
    };

    playlistOpenBtn.onclick = () => openPlaylist();
    playlistCloseBtn.onclick = () => closePlaylist();

    // swap up and down
    let manager1 = new Hammer.Manager(musicPlayer);

    // Create a recognizer
    let Swipe1 = new Hammer.Swipe();

    manager1.add(Swipe1);

    manager1.on("swipe", function (e) {
      let direction = e.offsetDirection;
      if (direction == 16) {
        openPlaylist();
      }
      if (direction == 8) {
        closePlaylist();
      }
    });
    // swap left and right
    const playerCenter = document.querySelector(".player-center");
    let manager = new Hammer.Manager(playerCenter);

    // Create a recognizer
    let Swipe = new Hammer.Swipe();

    manager.add(Swipe);

    manager.on("swipe", function (e) {
      let direction = e.offsetDirection;
      if (direction == 4) {
        musicIndex = musicIndex - 1;
        currentMusic(musicIndex);
        playMusic();
      } else if (direction == 2) {
        musicIndex = musicIndex + 1;
        currentMusic(musicIndex);
        playMusic();
      }
    });

    musicInfo.forEach((item, index) => {
      let playlistItem = document.createElement("div");
      playlistItem.classList.add("playlist-item");

      let playlistItemPoster = document.createElement("div");
      playlistItemPoster.classList.add("playlist-item-poster");
      playlistItem.appendChild(playlistItemPoster);

      let playlistItemPosterImg = document.createElement("img");
      playlistItemPosterImg.src = item.musicPoster;
      playlistItemPoster.appendChild(playlistItemPosterImg);

      let playlistItemInfo = document.createElement("div");
      playlistItemInfo.classList.add("playlist-item-info");
      playlistItem.appendChild(playlistItemInfo);

      let playlistItemName = document.createElement("p");
      playlistItemName.classList.add("plalist-item-name");
      playlistItemName.innerText = item.musicName;
      playlistItemInfo.appendChild(playlistItemName);

      let playlistItemArtist = document.createElement("p");
      playlistItemArtist.classList.add("playlist-artist-name");
      playlistItemArtist.innerText = item.artistName;
      playlistItemInfo.appendChild(playlistItemArtist);

      let playlistHeartBtn = document.createElement("div");
      playlistHeartBtn.classList.add("playlist-heart-btn");
      playlistItem.appendChild(playlistHeartBtn);

      let playlistHeartIcon = document.createElement("i");
      playlistHeartIcon.setAttribute("class", "fa fa-solid fa-heart playlist-heart-icon");
      playlistHeartBtn.appendChild(playlistHeartIcon);

      let playlistMenuBtn = document.createElement("div");
      playlistMenuBtn.classList.add("playlist-heart-btn");
      playlistItem.appendChild(playlistMenuBtn);

      let playlistMenuIcon = document.createElement("i");
      playlistMenuIcon.setAttribute(
        "class",
        "fa fa-ellipsis-v playlist-item-menu-icon"
      );
      playlistMenuBtn.appendChild(playlistMenuIcon);

      playlist.appendChild(playlistItem);
    });

    const playlistItems = document.querySelectorAll(".playlist-item");
    playlistItems.forEach((item, index) => {
      item.onclick = () => {
        currentMusic(index);
        closePlaylist();
        playMusic();
      };
    });

    const posterContainer = document.querySelector(".poster-container");
    musicInfo.forEach((item, index) => {
      let poster = document.createElement("img");
      poster.classList.add("poster");
      poster.src = item.musicPoster;
      poster.alt = item.musicName;
      posterContainer.appendChild(poster);
    });
    const audio = document.querySelector(".audio");
    const bg = document.querySelector(".bg");
    let musicName = document.querySelector(".music-name");
    let artistName = document.querySelector(".artist-name");
    let musicIndex = 0;
    const currentMusic = (index) => {
      let i = index % musicInfo.length;
      bg.src = musicInfo[i].musicPoster;
      posterContainer.style.left = -(index * 100) + "%";
      musicName.innerText = musicInfo[i].musicName;
      artistName.innerText = musicInfo[i].artistName;
      audio.src = musicInfo[i].musicSrc;
    };
    currentMusic(musicIndex);

    // music controls
    const prevBtn = document.querySelector(".back-btn");
    const playBtn = document.querySelector(".play-btn");
    const nextBtn = document.querySelector(".forward-btn");
    const loopBtn = document.querySelector(".loop-btn");
    const shuffleBtn = document.querySelector(".shuffle-btn");
    let isPlaying = false;
    let isShuffle = false;
    let isLoop = false;

    playBtn.onclick = () => {
      startMusic();
    };
    const startMusic = () => {
      isPlaying ? pauseMusic() : playMusic();
    };
    loopBtn.onclick = () => {
      isLoop = !isLoop;
      if (isLoop == true) {
        loopBtn.classList.add("active");
      } else {
        loopBtn.classList.remove("active");
      }
    };
    shuffleBtn.onclick = () => {
      isShuffle = !isShuffle;
      if (isShuffle == true) {
        shuffleBtn.classList.add("active");
      } else {
        shuffleBtn.classList.remove("active");
      }
    };

    nextBtn.onclick = () => {
      nextMusic();
    };
    const nextMusic = () => {
      musicIndex = musicIndex + 1;
      currentMusic(musicIndex);
      playMusic();
    };
    prevBtn.onclick = () => {
      prevMusic();
    };
    const prevMusic = () => {
      musicIndex = musicIndex - 1;
      currentMusic(musicIndex);
      playMusic();
    };
    const playMusic = () => {
      isPlaying = true;
      audio.play();
      playBtn.classList.replace("fa-circle-play", "fa-circle-pause");
    };

    function pauseMusic() {
      isPlaying = false;
      audio.pause();
      playBtn.classList.replace("fa-circle-pause", "fa-circle-play");
    }

    // timebar

    // music time
    const current = document.querySelector(".music-current-time");
    const duration = document.querySelector(".music-duration-time");
    if (duration.innerText == "NaN:0NaN") {
      duration.innerText = "0:00";
    }

    audio.addEventListener("timeupdate", () => {
      let time = audio.currentTime;
      let seconds = Math.floor(time % 60);
      let minutes = Math.floor(time / 60);
      if (seconds < 10) {
        current.innerText = minutes + ":0" + seconds;
      } else if (minutes >= 0 && seconds >= 0) {
        current.innerText = minutes + ":" + seconds;
      } else {
        current.innerText = minutes + ":0" + seconds;
      }

      //duration time
      time = audio.duration;
      seconds = Math.floor(time % 60);
      minutes = Math.floor(time / 60);
      if (seconds < 10) {
        duration.innerText = minutes + ":0" + seconds;
      } else if (minutes >= 0 && seconds >= 0) {
        duration.innerText = minutes + ":" + seconds;
      } else {
        duration.innerText = "0:00";
      }

      // time bar
      const timebarCicle = document.querySelector(".music-current-length-circle");
      const timebar = document.querySelector(".music-current-length");

      timebar.style.width = (audio.currentTime / audio.duration) * 100 + "%";
      timebarCicle.style.left = (audio.currentTime / audio.duration) * 100 + "%";
      if (
        isLoop == false &&
        isShuffle == false &&
        audio.currentTime == audio.duration
      ) {
        musicIndex = musicIndex + 1;
        currentMusic(musicIndex);
        playMusic();
      } else if (isLoop == true && audio.currentTime == audio.duration) {
        audio.currentTime = 0;
        playMusic();
      } else if (isShuffle == true && audio.currentTime == audio.duration) {
        musicIndex = Math.floor(Math.random() * musicInfo.length);
        currentMusic(musicIndex);
        playMusic();
      }
    });

    const musicTimebar = document.querySelector(".music-timebar");
    musicTimebar.addEventListener("click", (e) => {
      let a = e.offsetX;
      const b = e.srcElement.clientWidth;
      audio.currentTime = (a / b) * audio.duration;
    });

    window.addEventListener("keydown", (e) => {
      let code = e.keyCode;
      if (code == 32) {
        startMusic();
      }
      if (code == 39) {
        audio.currentTime += 5;
        playMusic();
      }
      if (code == 37) {
        playMusic();
        audio.currentTime -= 5;
      }
    });

  </script>

</body>

</html>